class Name {
    static probabilityFromBigramFreq = [
        { bigram: "žb", probability: -0.99 },
        { bigram: "až", probability: 0.99 },
        { bigram: "ak", probability: 0.99 },
        { bigram: "eo", probability: 0.99 },
        { bigram: "go", probability: 0.99 },
        { bigram: "rk", probability: 0.99 },
        { bigram: "om", probability: 0.99 },
        { bigram: "so", probability: -0.99 },
        { bigram: "ce", probability: 0.98 },
        { bigram: "ih", probability: 0.98 },
        { bigram: "ob", probability: 0.98 },
        { bigram: "ok", probability: 0.98 },
        { bigram: "os", probability: 0.98 },
        { bigram: "oš", probability: 0.98 },
        { bigram: "sv", probability: 0.98 },
        { bigram: "uk", probability: 0.98 },
        { bigram: "vž", probability: 0.98 },
        { bigram: "žb", probability: 0.98 },
        { bigram: "au", probability: -0.98 },
        { bigram: "gi", probability: -0.98 },
        { bigram: "jd", probability: -0.98 },
        { bigram: "jl", probability: -0.98 },
        { bigram: "ki", probability: -0.98 },
        { bigram: "ll", probability: -0.98 },
        { bigram: "of", probability: -0.98 },
        { bigram: "pi", probability: -0.98 },
        { bigram: "sn", probability: -0.98 },
        { bigram: "šk", probability: -0.98 },
        { bigram: "tk", probability: -0.98 },
        { bigram: "un", probability: -0.98 },
        { bigram: "zi", probability: -0.98 },
        { bigram: "ci", probability: -0.96 },
        { bigram: "cv", probability: -0.96 },
        { bigram: "či", probability: -0.96 },
        { bigram: "dm", probability: -0.96 },
        { bigram: "ea", probability: -0.96 },
        { bigram: "es", probability: -0.96 },
        { bigram: "ež", probability: -0.96 },
        { bigram: "ge", probability: -0.96 },
        { bigram: "gl", probability: -0.96 },
        { bigram: "he", probability: -0.96 },
        { bigram: "iš", probability: -0.96 },
        { bigram: "lg", probability: -0.96 },
        { bigram: "lv", probability: -0.96 },
        { bigram: "mm", probability: -0.96 },
        { bigram: "nč", probability: -0.96 },
        { bigram: "ng", probability: -0.96 },
        { bigram: "nu", probability: -0.96 },
        { bigram: "rm", probability: -0.96 },
        { bigram: "rš", probability: -0.96 },
        { bigram: "sj", probability: -0.96 },
        { bigram: "sm", probability: -0.96 },
        { bigram: "su", probability: -0.96 },
        { bigram: "ub", probability: -0.96 },
        { bigram: "uc", probability: -0.96 },
        { bigram: "ud", probability: -0.96 },
        { bigram: "uz", probability: -0.96 },
        { bigram: "vd", probability: -0.96 },
        { bigram: "zd", probability: -0.96 },
        { bigram: "ac", probability: 0.95 },
        { bigram: "ae", probability: 0.95 },
        { bigram: "ai", probability: 0.95 },
        { bigram: "az", probability: 0.95 },
        { bigram: "bl", probability: 0.95 },
        { bigram: "čk", probability: 0.95 },
        { bigram: "du", probability: 0.95 },
        { bigram: "eč", probability: 0.95 },
        { bigram: "eg", probability: 0.95 },
        { bigram: "eš", probability: 0.95 },
        { bigram: "ex", probability: 0.95 },
        { bigram: "gr", probability: 0.95 },
        { bigram: "ie", probability: 0.95 },
        { bigram: "ip", probability: 0.95 },
        { bigram: "mj", probability: 0.95 },
        { bigram: "no", probability: 0.95 },
        { bigram: "nž", probability: 0.95 },
        { bigram: "od", probability: 0.95 },
        { bigram: "oe", probability: 0.95 },
        { bigram: "ov", probability: 0.95 },
        { bigram: "pa", probability: 0.95 },
        { bigram: "pr", probability: 0.95 },
        { bigram: "rh", probability: 0.95 },
        { bigram: "rn", probability: 0.95 },
        { bigram: "rs", probability: 0.95 },
        { bigram: "se", probability: 0.95 },
        { bigram: "sk", probability: 0.95 },
        { bigram: "sr", probability: 0.95 },
        { bigram: "šo", probability: 0.95 },
        { bigram: "ut", probability: 0.95 },
        { bigram: "vk", probability: 0.95 },
        { bigram: "vl", probability: 0.95 },
        { bigram: "vo", probability: 0.95 },
        { bigram: "vr", probability: 0.95 },
        { bigram: "ze", probability: 0.95 },
        { bigram: "zt", probability: 0.95 },
        { bigram: "zv", probability: 0.95 },
        { bigram: "na", probability: -0.932 },
        { bigram: "ko", probability: 0.929 },
        { bigram: "za", probability: -0.875 },
        { bigram: "et", probability: -0.857 },
        { bigram: "ka", probability: -0.846 },
        { bigram: "ad", probability: 0.833 },
        { bigram: "bo", probability: 0.833 },
        { bigram: "ic", probability: -0.833 },
        { bigram: "nj", probability: -0.833 },
        { bigram: "va", probability: -0.818 },
        { bigram: "de", probability: 0.8 },
        { bigram: "ks", probability: 0.8 },
        { bigram: "rj", probability: -0.8 },
        { bigram: "in", probability: -0.769 },
        { bigram: "li", probability: -0.762 },
        { bigram: "ta", probability: -0.75 },
        { bigram: "am", probability: 0.75 },
        { bigram: "ga", probability: 0.75 },
        { bigram: "to", probability: 0.75 },
        { bigram: "iv", probability: -0.75 },
        { bigram: "ek", probability: 0.75 },
        { bigram: "že", probability: 0.75 },
        { bigram: "as", probability: -0.75 },
        { bigram: "si", probability: -0.75 },
        { bigram: "ij", probability: -0.737 },
        { bigram: "aj", probability: -0.727 },
        { bigram: "be", probability: 0.714 },
        { bigram: "im", probability: 0.714 },
        { bigram: "ol", probability: -0.714 },
        { bigram: "ša", probability: -0.714 },
        { bigram: "ve", probability: -0.714 },
        { bigram: "el", probability: -0.706 },
        { bigram: "ja", probability: -0.705 },
        { bigram: "er", probability: 0.692 },
        { bigram: "la", probability: -0.69 },
        { bigram: "ar", probability: -0.676 },
        { bigram: "ra", probability: -0.667 },
        { bigram: "ne", probability: 0.667 },
        { bigram: "ro", probability: 0.667 },
        { bigram: "sa", probability: -0.667 },
        { bigram: "ir", probability: 0.667 },
        { bigram: "ož", probability: 0.667 },
        { bigram: "lo", probability: -0.667 },
        { bigram: "oj", probability: -0.667 },
        { bigram: "ag", probability: 0.667 },
        { bigram: "do", probability: 0.667 },
        { bigram: "ha", probability: 0.667 },
        { bigram: "ig", probability: 0.667 },
        { bigram: "št", probability: 0.667 },
        { bigram: "tr", probability: 0.667 },
        { bigram: "ba", probability: -0.667 },
        { bigram: "bi", probability: -0.667 },
        { bigram: "fa", probability: -0.667 },
        { bigram: "fi", probability: -0.667 },
        { bigram: "kl", probability: -0.667 },
        { bigram: "lj", probability: -0.667 },
        { bigram: "nt", probability: -0.667 },
        { bigram: "ul", probability: -0.667 },
        { bigram: "ži", probability: -0.667 },
    ]

    static endingsTriggers = [
        { ending: "a", value: -0.959 },
        { ending: "n", value: 0.95 },
        { ending: "s", value: 0.875 },
        { ending: "m", value: 0.8 },
        { ending: "i", value: -0.714 },
        { ending: "o", value: 0.99 },
        { ending: "j", value: 0.99 },
        { ending: "r", value: 0.99 },
        { ending: "e", value: 0.98 },
        { ending: "k", value: 0.98 },
        { ending: "l", value: 0.98 },
        { ending: "ž", value: 0.98 },
        { ending: "t", value: 0.96 },
        { ending: "c", value: 0.96 },
        { ending: "v", value: 0.96 },
        { ending: "d", value: 0.96 },
        { ending: "š", value: 0.96 },
        { ending: "z", value: 0.96 },
        { ending: "b", value: 0.95 },
        { ending: "f", value: 0.95 },
        { ending: "h", value: 0.95 },
        { ending: "p", value: 0.95 }
    ]


    constructor(passedString) {
        this.name = passedString.toLowerCase();
        this.length = passedString.length;
        this.lastLetter = {
            symbol: this.name.slice(-1),
            value: 0
        }
        this.readings = [];

        // zafilamo field readings;
        Name.bigramFrequencyValues(this);

        // in dodamo pravo vrednost v lastLetter.value;
        Name.endingValue(this);
    }

    static bigramFrequencyValues(passedNameObj) {
        Name.probabilityFromBigramFreq.forEach(e => {
            if (passedNameObj.name.includes(e.bigram)) {
                passedNameObj.readings.push(e.probability);
            } else {
                passedNameObj.readings.push(0);
            }
        });
    }

    static endingValue(passedNameObj) {
        // preverimo, katero končnico ima beseda, in skladno s ji pripišemo vrednost (sicer ne v readings);
        let ending = passedNameObj.lastLetter.symbol;
        for (let i = 0; i < Name.endingsTriggers.length; i++) {
            if (Name.endingsTriggers[i].ending == ending) {
                passedNameObj.lastLetter.value = Name.endingsTriggers[i].value;
                return;
            }
        }
        // če pride do tle, ni treba naredit nič (noben else), ker je lastLetter.value po defaultu 0;
    }

}